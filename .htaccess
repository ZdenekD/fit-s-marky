DirectoryIndex dist/index.html

php_flag opcache.enable Off

<ifModule mod_rewrite.c>
    RewriteBase /
    RewriteEngine On

    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule !\.(js|json|ico|gif|jpg|png|webp|svg|css|xml|txt|pdf|rar|zip|swf|tar\.gz)$ dist/index.html [L]

    RewriteCond %{REQUEST_URI} \.(js|json|ico|gif|jpg|png|webp|svg|css|xml|txt|pdf|rar|zip|swf|tar\.gz)$
    RewriteCond %{REQUEST_URI} !^/dist
    RewriteRule ^(.*) dist/$1 [L]
</ifModule>

<IfModule mod_deflate.c>
    AddType x-font/woff .woff .woff2

    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript text/svg+xml
    AddOutputFilterByType DEFLATE application/x-javascript application/javascript application/json
    AddOutputFilterByType DEFLATE application/font-woff application/font-woff2
 </IfModule>

 <IfModule mod_expires.c>
    ExpiresActive On
    ExpiresDefault "access plus 1209600 seconds"
    ExpiresByType image/ico "access plus 2592000 seconds"
    ExpiresByType image/icon "access plus 2592000 seconds"
    ExpiresByType image/x-icon "access plus 2592000 seconds"
    ExpiresByType image/jpeg "access plus 1209600 seconds"
    ExpiresByType image/jpg "access plus 1209600 seconds"
    ExpiresByType image/png "access plus 1209600 seconds"
    ExpiresByType image/webp "access plus 1209600 seconds"
    ExpiresByType image/gif "access plus 1209600 seconds"
    ExpiresByType text/css "access plus 604800 seconds"
    ExpiresByType text/javascript "access plus 604800 seconds"
    ExpiresByType application/javascript "access plus 604800 seconds"
    ExpiresByType application/x-javascript "access plus 604800 seconds"
    ExpiresByType text/html "access plus 604800 seconds"
    ExpiresByType application/xhtml+xml "access plus 604800 seconds"
    ExpiresByType application/font-woff "access plus 2592000 seconds"
    ExpiresByType application/font-woff2 "access plus 2592000 seconds"
    Header unset Etag
    FileETag none
</IfModule>

<IfModule mod_mime.c>
    AddType image/webp .webp
</IfModule>

<ifModule mod_headers.c>
    Header always set x-xss-protection "1; mode=block"
    Header always set x-frame-options "SAMEORIGIN"
    Header always set X-Content-Type-Options "nosniff"
    Header add Access-Control-Allow-Origin "*"
    Header add Access-Control-Allow-Headers "origin, x-requested-with, content-type"
    Header add Access-Control-Allow-Methods "PUT, GET, POST, DELETE, OPTIONS"
    Header set Connection keep-alive
    <filesMatch "\.(ico|jpe?g|png|gif|swf|webp)$">
        Header set Cache-Control "public"
    </filesMatch>
    <filesMatch "\.(css)$">
        SetOutputFilter DEFLATE
        Header set Cache-Control "public"
    </filesMatch>
    <filesMatch "\.(js)$">
        SetOutputFilter DEFLATE
        Header set Cache-Control "private"
    </filesMatch>
    <filesMatch "\.(x?html?|php)$">
        Header set Cache-Control "private, max-age=360, must-revalidate"
    </filesMatch>
</ifModule>
